<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Account Management App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
        <div class="col-12">
            <h1 class="display-1">Bank Account Management App</h1>
            <p class="lead">
            Use this app to manage users bank accounts.
            </p>
            <ul class="nav nav-tabs mt-5" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="account-tab" data-bs-toggle="tab" data-bs-target="#account-tab-pane" type="button"
                        role="tab" aria-controls="account-tab-pane" aria-selected="true">New Account</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="deposit-tab" data-bs-toggle="tab" data-bs-target="#deposit-tab-pane" type="button"
                        role="tab" aria-controls="deposit-tab-pane" aria-selected="false">Deposit</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="withdraw-tab" data-bs-toggle="tab" data-bs-target="#withdraw-tab-pane" type="button" 
                        role="tab" aria-controls="withdraw-tab-pane" aria-selected="false">Withdraw</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="transactions-log" data-bs-toggle="tab" data-bs-target="#transactions-log-pane" type="button" 
                        role="tab" aria-controls="transactions-log-pane" aria-selected="false">Transactions Log</button>
                </li>
            </ul>
            <div class="tab-content pt-3" id="myTabContent">
                <div class="tab-pane fade show active" id="account-tab-pane" role="tabpanel" aria-labelledby="account-tab" tabindex="0">
                    <h1 class="display-6">Create new Account</h1>
                    <div class="d-flex flex-column flex-lg-row gap-5">
                        <div class="border border-primary p-4" style="width:30rem;">
                            <form id="new-account-form" onsubmit="createNewAccount(event)">
                                <div class="mb-3">
                                  <label for="account_name" class="form-label">Account Name</label>
                                  <input type="text" class="form-control" name="account_name" id="account_name" aria-describedby="account_name" required>
                                </div>
                                <div class="mb-3">
                                  <label for="phone" class="form-label">Phone Number</label>
                                  <input type="text" class="form-control" name="phone" id="phone" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Create Account</button>
                            </form>
                        </div>
                        <div class="w-100">
                            <table class="table table-striped table-hover table-responsive caption-top">
                                <caption>User bank accounts table.</caption>
                                <thead class="table-dark">
                                  <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Account Name</th>
                                    <th scope="col">Phone</th>
                                    <th scope="col">Account Number</th>
                                    <th scope="col">Balance</th>
                                  </tr>
                                </thead>
                                <tbody id="accounts-table-body" class="table-group-divider">
                                  <tr>
                                    <th scope="row">1</th>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                  </tr>
                                </tbody>
                              </table>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="deposit-tab-pane" role="tabpanel" aria-labelledby="deposit-tab" tabindex="0">
                    <h1 class="display-6">Deposit to Account</h1>
                    <form id="deposit-form" onsubmit="depositToAccount(event)">
                        <div class="mb-3">
                          <label for="account_number" class="form-label">Account Number</label>
                          <input type="text" class="form-control" name="account_number" id="account_number" aria-describedby="account_number" required>
                        </div>
                        <div class="mb-3">
                          <label for="deposit_amount" class="form-label">Deposit Amount</label>
                          <input type="number" class="form-control" name="deposit_amount" id="deposit_amount" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Deposit</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="withdraw-tab-pane" role="tabpanel" aria-labelledby="withdraw-tab" tabindex="0">
                    <h1 class="display-6">Withdraw From Account</h1>
                    <form id="withdrawal-form" onsubmit="withdrawFromAccount(event)">
                        <div class="mb-3">
                          <label for="account_number" class="form-label">Account Number</label>
                          <input type="text" class="form-control" name="account_number" id="account_number" aria-describedby="account_number" required>
                        </div>
                        <div class="mb-3">
                          <label for="withdrawal_amount" class="form-label">Withdrawal Amount</label>
                          <input type="number" class="form-control" name="withdrawal_amount" id="withdrawal_amount" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Withdraw</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="transactions-log-pane" role="tabpanel" aria-labelledby="transactions-log" tabindex="0">
                    <h1 class="display-6">Transaction Logs</h1>
                    <div class="w-100">
                        <form id="transaction-log-search-form" onsubmit="findAccountTransactions(event)">
                            <div class="input-group my-3">
                                <input type="text" name="account_number" class="form-control" placeholder="Enter account number to filter transactions log">
                                <button class="btn btn-outline-secondary" type="submit">Search</button>
                            </div>
                        </form>
                        <table class="table table-striped table-hover table-responsive caption-top">
                            <caption>Transactions table.</caption>
                            <thead class="table-dark">
                              <tr>
                                <th scope="col">#</th>
                                <th scope="col">Account Name</th>
                                <th scope="col">Account Number</th>
                                <th scope="col">Transaction Type</th>
                                <th scope="col">Timestamp</th>
                              </tr>
                            </thead>
                            <tbody id="accounts-table-body" class="table-group-divider">
                              <tr>
                                <th scope="row">1</th>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                              </tr>
                            </tbody>
                          </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const createNewAccount = (e) => {
            e.preventDefault();
            const data = new FormData(e.target);
            const name = data.get('account_name');
            const phone = data.get('phone');
            console.log("Creating new account", name, phone);
        }

        const withdrawFromAccount = (e) => {
            e.preventDefault();
            const data = new FormData(e.target);
            const account = data.get('account_number');
            const amount = data.get('withdrawal_amount');
            console.log("Withdrawing from account.", account, amount);
        }

        const depositToAccount = (e) => {
            e.preventDefault();
            const data = new FormData(e.target);
            const account = data.get('account_number');
            const amount = data.get('deposit_amount');
            console.log("Depositing into account", account, amount);
        }

        const findAccountTransactions = (e) => {
            e.preventDefault();
            const data = new FormData(e.target);
            const account = data.get('account_number');
            console.log("Finding accoutn transactions", account);
        }

        const sendServerRequest = (data) => {
            console.log(data);
        }

        const initializeTableData = () => {

        }

        const updateTableData = (data) => {
            console.log(data);
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  </body>
</html>